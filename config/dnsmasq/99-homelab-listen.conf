# 99-homelab-listen.conf
#
# DNS frontend for VPN and local clients
# Forwards to local Unbound resolver with DNSSEC validation

# ------------------------------------------------------------
# Listening addresses (explicit and deterministic)
# ------------------------------------------------------------

# Loopback (local system)
listen-address=127.0.0.1

# WireGuard / VPN IPv4
listen-address=10.89.12.4

# Router-delegated stable IPv6
listen-address=2a01:8b81:4800:9c00::4

# Enforce interface binding
bind-interfaces

# DNS service port
port=53

# ------------------------------------------------------------
# Upstream resolver (Unbound)
# ------------------------------------------------------------

# Forward all queries to local Unbound
server=127.0.0.1#5335

# Preserve DNSSEC validation results (AD bit)
proxy-dnssec

# ------------------------------------------------------------
# Safety defaults
# ------------------------------------------------------------

# Never read /etc/resolv.conf
no-resolv

# Never pollute with DHCP DNS
no-poll

# Do not cache negative answers excessively
neg-ttl=60
