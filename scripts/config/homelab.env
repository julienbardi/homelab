# -------------------------------------------------------------------
# Homelab environment configuration
# -------------------------------------------------------------------

# Require root for all scripts
if [[ $EUID -ne 0 ]]; then
  echo "âŒ This script must be run with sudo/root." >&2
  exit 1
fi

# --- WireGuard ---
WG_DIR=/etc/wireguard
CLIENTS_DIR=/var/lib/wireguard/clients
WG_INTERFACE=wg0
WG_PORT=51822
WG_SUBNET=10.4.0.0/24
WG_SERVER_KEY=${WG_DIR}/${WG_INTERFACE}.server.key

# --- DNS ---
DNSMASQ_SERVICE=dnsmasq-homelab.service
DNSMASQ_CONF_DIR=/etc/dnsmasq.d/homelab
DNSMASQ_PORT=53

# --- LAN / Tailscale ---
LAN_SUBNET=192.168.50.0/24
TAILSCALE_INTERFACE=tailscale0
TAILSCALE_SUBNET=100.64.0.0/10
TAILSCALE_LOGIN_SERVER=https://headscale.bardi.ch
TAILSCALE_ADVERTISE_ROUTES=192.168.50.0/24

# --- Headscale / SSL ---
SSL_DEPLOY_DIR_HEADSCALE=/etc/headscale/ssl
DOMAIN=bardi.ch
HEADSCALE_PORT=443
SSL_CHAIN_ECC=/home/julie/.acme.sh/${DOMAIN}_ecc/fullchain.cer
SSL_KEY_ECC=/home/julie/.acme.sh/${DOMAIN}_ecc/${DOMAIN}.key
